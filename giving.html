<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>奉獻支持 | 台宣方舟行動教會</title>
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 引入 React 和 ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- 引入 Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        church: {
                            blue: '#1e3a8a', // blue-900
                            gold: '#f59e0b', // amber-500
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- 圖示組件 ---
        const IconWrapper = ({ children, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const Copy = (props) => <IconWrapper {...props}><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></IconWrapper>;
        const Check = (props) => <IconWrapper {...props}><polyline points="20 6 9 17 4 12"/></IconWrapper>;
        const CreditCard = (props) => <IconWrapper {...props}><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></IconWrapper>;
        const Heart = (props) => <IconWrapper {...props}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></IconWrapper>;
        const ExternalLink = (props) => <IconWrapper {...props}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></IconWrapper>;

        const GivingPage = () => {
            const [copied, setCopied] = useState(false);

            // 模擬教會銀行帳戶資料
            const bankInfo = {
                bankName: "郵局",
                bankCode: "700",
                branch: "桃園大業郵局",
                accountName: "社團法人台宣方舟行動教會",
                accountNumber: "01212050343831" 
            };

            const googleFormUrl = "https://forms.gle/ofHunCDfYAwjUYap8";

            const handleCopy = () => {
                navigator.clipboard.writeText(bankInfo.accountNumber);
                setCopied(true);
                setTimeout(() => setCopied(false), 2000);
            };

            return (
                <div className="min-h-screen flex flex-col">
                    
                    {/* Header */}
                    <header className="bg-church-blue text-white shadow-md sticky top-0 z-50">
                        <div className="max-w-3xl mx-auto px-4 h-16 flex items-center justify-center gap-3">
                            <img 
                                src="方舟正式LOGO色多.png" 
                                alt="台宣方舟行動教會 Logo" 
                                className="h-10 w-auto object-contain bg-white rounded-full p-0.5"
                                onError={(e) => { e.target.style.display = 'none'; }}
                            />
                            <h1 className="text-xl font-bold tracking-wide">奉獻支持</h1>
                        </div>
                    </header>

                    {/* Banner / Scripture */}
                    <div className="bg-gradient-to-b from-church-blue to-blue-800 text-white py-12 px-4 text-center">
                        <div className="max-w-2xl mx-auto">
                            <div className="inline-block p-3 bg-white/10 rounded-full mb-4">
                                <Heart className="w-8 h-8 text-church-gold" />
                            </div>
                            <blockquote className="text-xl md:text-2xl font-light leading-relaxed mb-4 italic">
                                「各人要隨本心所酌定的，不要作難，不要勉強，因為捐得樂意的人是神所喜愛的。」
                            </blockquote>
                            <cite className="text-blue-200 not-italic font-medium">— 哥林多後書 9:7</cite>
                        </div>
                    </div>

                    <main className="flex-grow max-w-3xl mx-auto w-full px-4 py-8 space-y-8">
                        
                        {/* 1. 銀行轉帳資訊卡片 */}
                        <section className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                            <div className="bg-slate-50 px-6 py-4 border-b border-slate-100 flex items-center gap-3">
                                <CreditCard className="w-5 h-5 text-church-blue" />
                                <h2 className="font-bold text-lg text-slate-800">銀行匯款 / ATM 轉帳</h2>
                            </div>
                            <div className="p-6">
                                <div className="space-y-4">
                                    <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-blue-50 rounded-lg border border-blue-100">
                                        <span className="text-sm text-slate-500 mb-1 sm:mb-0">銀行代碼</span>
                                        <span className="font-mono font-bold text-xl text-church-blue">{bankInfo.bankCode} {bankInfo.bankName}</span>
                                    </div>
                                    
                                    <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-blue-50 rounded-lg border border-blue-100">
                                        <span className="text-sm text-slate-500 mb-1 sm:mb-0">匯款帳號</span>
                                        <div className="flex items-center gap-3">
                                            <span className="font-mono font-bold text-xl text-church-blue tracking-wider">01212050343831</span>
                                            <button 
                                                onClick={handleCopy}
                                                className="p-2 bg-white rounded-md border border-blue-200 hover:bg-blue-50 text-church-blue transition relative group"
                                                title="複製帳號"
                                            >
                                                {copied ? <Check className="w-4 h-4 text-green-600" /> : <Copy className="w-4 h-4" />}
                                                {copied && <span className="absolute -top-8 left-1/2 -translate-x-1/2 text-xs bg-slate-800 text-white px-2 py-1 rounded">已複製</span>}
                                            </button>
                                        </div>
                                    </div>

                                    <div className="flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-slate-50 rounded-lg border border-slate-100">
                                        <span className="text-sm text-slate-500 mb-1 sm:mb-0">戶名</span>
                                        <span className="font-medium text-slate-800">社團法人桃園市方舟行動協會</span>
                                    </div>
                                </div>
                                <div className="mt-6 text-sm text-slate-500 bg-amber-50 p-4 rounded-lg border border-amber-100">
                                    <p>💡 溫馨提醒：匯款完成後，請填寫下方「奉獻回報單」，並勾選是否需要開立收據。</p>
                                </div>
                            </div>
                        </section>

                        {/* 2. Google 表單嵌入區塊 */}
                        <section className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                            <div className="bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center">
                                <div>
                                    <h2 className="font-bold text-lg text-slate-800">奉獻回報單</h2>
                                    <p className="text-sm text-slate-500">請填寫詳細資訊 (含收據開立需求)</p>
                                </div>
                                <a href={googleFormUrl} target="_blank" rel="noopener noreferrer" className="text-church-blue hover:text-blue-700 text-sm flex items-center gap-1 md:hidden">
                                    <span className="text-xs">另開視窗</span>
                                    <ExternalLink className="w-3 h-3" />
                                </a>
                            </div>
                            
                            <div className="relative w-full">
                                {/* 嵌入 Google 表單
                                    注意：由於使用了短網址 (forms.gle)，在某些瀏覽器可能會遇到安全性阻擋 (X-Frame-Options)。
                                    如果無法顯示，請改用完整長網址 (docs.google.com/...) 或點擊下方按鈕。
                                */}
                                <iframe 
                                    src={googleFormUrl}
                                    className="w-full h-[800px] md:h-[600px] border-0"
                                    title="Google Form"
                                >
                                    載入中...
                                </iframe>
                                
                                {/* 備用按鈕：如果 iframe 被阻擋或載入失敗，提供一個按鈕讓用戶點擊 */}
                                <div className="p-4 bg-slate-50 text-center border-t border-slate-100">
                                    <p className="text-sm text-slate-500 mb-2">如果表單無法正常顯示，請點擊下方按鈕開啟：</p>
                                    <a 
                                        href={googleFormUrl} 
                                        target="_blank" 
                                        rel="noopener noreferrer"
                                        className="inline-flex items-center gap-2 px-4 py-2 bg-white border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 hover:text-church-blue transition shadow-sm font-medium"
                                    >
                                        <ExternalLink className="w-4 h-4" />
                                        前往填寫 Google 表單
                                    </a>
                                </div>
                            </div>
                        </section>
                    </main>

                    {/* Footer */}
                    <footer className="bg-church-blue text-slate-300 py-8 text-center text-sm">
                        <p>&copy; {new Date().getFullYear()} 台宣方舟行動教會. All rights reserved.</p>
                        <p className="mt-2 text-slate-400">本頁面為教會奉獻專用，您的資料將嚴格保密。</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GivingPage />);
    </script>
</body>
</html>